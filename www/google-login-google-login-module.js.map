{"version":3,"sources":["webpack:///./src/app/google-login/google-login.module.ts","webpack:///./src/app/google-login/google-login.page.html","webpack:///./src/app/google-login/google-login.page.scss","webpack:///./src/app/google-login/google-login.page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAyC;AACM;AACF;AACU;AAEV;AAEc;AAE3D,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,uEAAoB;KAChC;CACF,CAAC;AAaF;IAAA;IAAoC,CAAC;IAAxB,qBAAqB;QAXjC,8DAAQ,CAAC;YACR,YAAY,EAAE,CAAC,uEAAoB,CAAC;YACpC,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;aAC9B;YACD,OAAO,EAAE,CAAC,uEAAoB,CAAC;SAEhC,CAAC;OACW,qBAAqB,CAAG;IAAD,4BAAC;CAAA;AAAH;;;;;;;;;;;;AC3BlC,iOAAiO,iTAAiT,YAAY,yO;;;;;;;;;;;ACA9hB,+DAA+D,uJ;;;;;;;;;;;;;;;;;;;;;;ACArB;AACD;AACY;AAGM;AACjB;AAQ1C;IAIE,8BAAoB,MAAuB,EACjC,KAAiB,EACjB,QAAkB;QAFR,WAAM,GAAN,MAAM,CAAiB;QACjC,UAAK,GAAL,KAAK,CAAY;QACjB,aAAQ,GAAR,QAAQ,CAAU;QACxB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC;IACpC,CAAC;IAGD,0CAAW,GAAX;QACE,IAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,EAAC;YAC7B,IAAI,CAAC,iBAAiB,EAAE,CAAC;SAE1B;aAEI,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE;YAChC,IAAI,CAAC,iBAAiB,EAAE,CAAC;SAC1B;aAEI,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE;YACpC,IAAI,CAAC,iBAAiB,EAAE,CAAC;SAC1B;aAEI;YACH,IAAI,CAAC,cAAc,EAAE;SACtB;IACH,CAAC;IAEK,gDAAiB,GAAvB;;;;;;;wBAEoB,qBAAM,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;gCACvC,aAAa,EAAG,0EAA0E;gCAC1F,SAAS,EAAG,IAAI;gCAChB,QAAQ,EAAG,eAAe;6BAC3B,CAAC;;wBAJI,SAAS,GAAG,SAIhB;wBACK,qBAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,oBAAoB,CAChD,iDAAa,CAAC,kBAAkB,CAAC,UAAU,CAAC,SAAS,CAAC,OAAO,CAAC,CAC/D;4BAFD,sBAAO,SAEN;;;wBAED,OAAO,CAAC,GAAG,CAAC,KAAG,CAAC,CAAC;;;;;;KAGlB;IACK,6CAAc,GAApB;;;;;;;wBAEU,QAAQ,GAAG,IAAI,iDAAa,CAAC,kBAAkB,EAAE,CAAC;wBACrC,qBAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC;;wBAA7D,UAAU,GAAG,SAAgD;;;;wBAGnE,OAAO,CAAC,GAAG,CAAC,KAAG,CAAC,CAAC;;;;;;KAEpB;IAGD,sCAAO,GAAP;QACE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;QAC3B,IAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,EAAC;YAC7B,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;SACrB;IAEL,CAAC;IA9DU,oBAAoB;QANhC,+DAAS,CAAC;YACT,QAAQ,EAAE,kBAAkB;YAC5B,8GAAuC;;SAExC,CAAC;+EAM4B,kEAAe;YAC1B,wEAAU;YACP,uDAAQ;OANjB,oBAAoB,CA+DhC;IAAD,2BAAC;CAAA;AA/DgC","file":"google-login-google-login-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { GoogleLoginComponent } from './google-login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: GoogleLoginComponent\n  }\n];\n\n@NgModule({\n  declarations: [GoogleLoginComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  exports: [GoogleLoginComponent]\n\n})\nexport class GoogleLoginPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>LOGIN PAGE FOR ALL</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-card>\\n    <ion-card-content>\\n        <div *ngIf=\\\"(user | async) || {} as user\\\">\\n\\n            <div *ngIf='!user.uid'>\\n              <ion-button color='primary' (click)='googleLogin()'>\\n                Login with Google\\n              </ion-button>\\n            </div>\\n          \\n            <div *ngIf=\\\"user.uid\\\">\\n              You're already logged in with UID: {{ user.uid }}\\n          \\n              <ion-button (click)=\\\"signOut()\\\">\\n                Log Out\\n              </ion-button>\\n            </div>\\n          \\n          </div>\\n    </ion-card-content>\\n  </ion-card>\\n\\n  \\n</ion-content>\\n\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2dvb2dsZS1sb2dpbi9nb29nbGUtbG9naW4ucGFnZS5zY3NzIn0= */\"","import { Component } from '@angular/core';\nimport * as firebase from 'firebase/app';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { Observable } from 'rxjs/Observable';\n\nimport { GooglePlus } from '@ionic-native/google-plus/ngx';\nimport { Platform } from '@ionic/angular';\n\n@Component({\n  selector: 'app-google-login',\n  templateUrl: './google-login.page.html',\n  styleUrls: ['./google-login.page.scss'],\n})\n\nexport class GoogleLoginComponent {\n  \n  user: Observable<firebase.User>;\n\n  constructor(private afAuth: AngularFireAuth, \n    private gplus: GooglePlus,\n    private platform: Platform) { \n      this.user = this.afAuth.authState;\n    }\n\n\n    googleLogin(){\n      if(this.platform.is('cordova')){\n        this.nativeGoogleLogin();\n\n      }\n\n      else if (this.platform.is('ios')) {\n        this.nativeGoogleLogin();\n      }\n\n      else if (this.platform.is('android')) {\n        this.nativeGoogleLogin();\n      }\n      \n      else {\n        this.webGoogleLogin()\n      }\n    }\n\n    async nativeGoogleLogin(): Promise<firebase.User>{\n    try{\n      const gplusUser = await this.gplus.login({\n        'webClientId' : '563718902980-u9oskt1msilo11ur30pgmf9fhvpj0au2.apps.googleusercontent.com',\n        'offline' : true,\n        'scopes' : 'profile email'\n      })\n      return await this.afAuth.auth.signInWithCredential(\n        firebase.auth.GoogleAuthProvider.credential(gplusUser.idToken)\n      )\n    }catch(err){\n      console.log(err);\n    }\n\n    }\n    async webGoogleLogin(): Promise<void>{\n      try{\n        const provider = new firebase.auth.GoogleAuthProvider();\n        const credential = await this.afAuth.auth.signInWithPopup(provider);\n\n      }catch(err){\n        console.log(err);\n      }\n    }\n    \n    \n    signOut(){\n      this.afAuth.auth.signOut();\n      if(this.platform.is('cordova')){\n        this.gplus.logout();\n      }\n\n  } \n}\n\n"],"sourceRoot":""}